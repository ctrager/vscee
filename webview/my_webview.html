<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat Coding</title>
    <script>
        var vscode = null

        function on_load() {
            console.log("corey is logging from on load")
            vscode = acquireVsCodeApi();

            window.addEventListener("message", event => {
                console.log("received message", event.data)
            })

            console.log("on load end")

        }


        function post_message_to_extension() {
            console.log("post_message_to_extension")
            color_select = document.getElementById("color_select")
            color = color_select.options[color_select.selectedIndex].innerText

            vscode.postMessage({foo: "bar", color: color})
        }

    </script>
</head>

<body onload="on_load()">
    <div style="border: 3px color red; background-color:green;">Corey is here from webview folder!</div>
    <form>
        number? <input type=number />

        <br>
        color?
        <select id="color_select">
            <option>red</option>
            <option selected>green</option>
            <option>blue</option>
        </select>
    </form>
    <br>
    <button onclick="post_message_to_extension()">click to send message to extension</button>

</body>

</html>